<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quest Voyage-Dream Destination</title>
    <link rel="stylesheet" href="../CSS/style.css" />
    <link
      rel="shortcut icon"
      href="../images/logo.jpg"
      type="image/x-icon"
    />
    <link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
.wishlist-wrapper{
    position:relative;
  }

.wishlist-icon{
    width:30px;
    height:30px;
}

.wishlist-badge{
    position:absolute;
    top:-6px;
    right:-6px;

    background:red;
    color:white;

    font: size 11px;
    font-weight:bold;

    min-width:20px;
    height:20px;

    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;

}
.profile-wrapper{
position:relative;
cursor:pointer;
}

.profile-icon{
width:30px;
height:30px;
border-radius:50%;
}

.profile-dropdown{
position:absolute;
right:0;
top:50px;

width:260px;
background:white;
padding:15px;

border-radius:10px;
box-shadow:0 10px 25px rgba(0,0,0,0.15);

display:none;
z-index:999;
}

.profile-dropdown h3{
margin:0;
}

.profile-dropdown p{
margin:5px 0;
font-size:14px;
color:#555;
}
.profile-dropdown{
z-index:9999;
position:absolute;
right:0;
top:55px;
display:none;
}
.profile-dropdown button{
width:100%;
margin-top:10px;
background:#e53935;
color:white;
border:none;
padding:8px;
border-radius:6px;
cursor:pointer;
}

.nav-right{
    display:flex;
    align-items:center;
    gap:12px;
}


.nav-btn{
    display:inline-flex;
    align-items:center;
    justify-content:center;

    padding:8px 12px;   
    border-radius:8px;

    background:#6fa6a4;

    width:auto;         
    height:auto;         

    cursor:pointer;
    transition:.3s;
}

.nav-btn img,
.nav-btn i{
    width:20px;
    height:20px;
}

.nav-btn:hover{
    background:#5c908e;
}

.hamburger{
    background:none !important;
    padding:0 !important;
}
    </style>
  </head>
  <script>

const currentUser =
localStorage.getItem("currentUser");

const userLoggedIn =
localStorage.getItem("userLoggedIn");

if(!currentUser || userLoggedIn !== "true"){
    
    alert("Please login first");

    window.location.replace("../login.html");
}
  </script>

<body class="Hero-bg">
    <header style="display:flex; flex-direction: column; gap: 20px">
      <input type="checkbox" id="sidebar-toggle" class="sidebar-toggle" />
      <section class="navi" id="navi">
        <section class="logo">
          <img src="../images/logo.jpg" style="height: 70px; width: 70px" />
          <h2 style="padding: 5px"><b>QuestVoyage</b></h2>
        </section>
        <nav id="navika">
          <ul>
   <div class="nav-right">


    <a href="Packages.html" class="book-trip-btn" style="
            padding-top: 10px;
            list-style-type: none;
            background-color: cadetblue;
            display: inline-block;
            padding: 10px;
            border-radius: 5px;
            float: right;
            text-decoration: none;
            color:black"
          
>   <b> Book Trip</b>  
    </a>
 <div class="nav-btn wishlist-wrapper">
  
    <a href="wishlist.html">
        <img src="../images/wishlist icon.png" alt="Sample Images" class="wishlist-icon">
        <span id="wishlistCount" class="wishlist-badge">0</span>
    </a>
</div>
 <div class="nav-btn wishlist-wrapper">
  
    <a href="../HTML/Packages.html">
        <img src="../images/filter.png" alt="Sample Images" class="wishlist-icon">
    </a>
</div>


     
    <div class="nav-btn profile-wrapper">

<img src="../images/user (1).png"
     class="profile-icon"
     id="profileToggle">

<div class="profile-dropdown" id="profileBox">

<h3 id="profileName"></h3>
<p id="profileEmail"></p>
<p id="profilePhone"></p>

<hr>

<h4>My Bookings</h4>
<div id="profileBookings"></div>

<button onclick="logoutUser()">Logout</button>

</div>

</div>
            <li>
              <label
                for="sidebar-toggle"
                class="hamburger"
                style="padding-top: 8px"
              >
                <span></span>
                <span></span>
                <span></span>
              </label>
            </li>
            
          </ul>
        </nav>
      </section>
      
      <main class="welcome">
        <aside class="sidebar" id="sidebar">
          <label for="sidebar-toggle" class="close-btn">‚úï</label>

          <h3>Quick Links</h3>
          <ul>
           <ul>
            <li>
              <a href="#home" style="color: black; list-style-type: none;"><b>Home</b></a>
            </li>
            <li>
              <a href="../HTML/flights.html" target="_blank" style="color: black"
                ><b>Top Bookings</b></a
              >
            </li>
            <li>
              <a href="../HTML/about.html" target="_blank" style="color: black"
                ><b>About</b></a
              >
            </li>
            <li>
              <a href="../HTML/testimonial.html" target="_blank" style="color: black"
                ><b>Testimonial</b></a
              >
            </li>
          
            </li>
            <li onclick="window.location.href='history.html'" style="font-weight: bolder; cursor: pointer;">
    Booking History 
            </li>
          
             
          </ul>
          <section class="sidebar-box contact-box">
            <h4>üìû Contact Us</h4>
            <p><strong>Phone:</strong> +91 98765 43210</p>
            <p><strong>Email:</strong> support@questvoyage.com</p>
            <a href="form.html" class="contact-link">Send Message</a>
          </section>
        </aside>
        <section class="main-content">
          <h1>Welcome to "Dream Destination"</h1>
          <h3>
            "Travel far enough, you meet yourself,
              Let us plan the journey you'll never forget."
          </h3>
          <section class="explore">
            <button><a href="flights.html">Explore More</a></button>
          </section>
        </section>
      </main>
    </header>
    <section class="grid-section">
      <h2>Our Popular Destinations</h2>
      <div class="grid-container">
        <div class="grid-item reveal">
          <img src="../images/paris.jpg" alt="Destination 1" />
          <h3>Paris</h3>
          <p>Experience the city of lights and romance.</p>
        </div>
        <div class="grid-item reveal">
          <img src="../images/tokyo.jpg" alt="Destination 2" />
          <h3>Tokyo</h3>
          <p>Discover modern culture and ancient traditions.</p>
        </div>
        <div class="grid-item reveal">
          <img src="../images/newyork.jpg" alt="Destination 3" />
          <h3>New York</h3>
          <p>The city that never sleeps awaits you.</p>
        </div>
        <div class="grid-item reveal">
          <img src="../images/london.jpg" alt="Destination 4" />
          <h3>London</h3>
          <p>Explore royal heritage and historic landmarks.</p>
        </div>
        <div class="grid-item reveal">
          <img src="../images/dubai.jpg" alt="Destination 5" />
          <h3>Dubai</h3>
          <p>Luxury and innovation combined.</p>
        </div>
        <div class="grid-item reveal">
          <img src="../images/singapore.jpg" alt="Destination 6" />
          <h3>Singapore</h3>
          <p>Modern city with vibrant culture.</p>
        </div>
        <div class="grid-item reveal">
          <img src="../images/barcelona.jpg" alt="Destination 7" />
          <h3>Barcelona</h3>
          <p>Art, architecture, and beach vibes.</p>
        </div>
        <div class="grid-item reveal">
          <img src="../images/sydney.jpg" alt="Destination 8" />
          <h3>Sydney</h3>
          <p>Beautiful beaches and iconic landmarks.</p>
        </div>
      </div>
    </section>
    <section class="newsletter-section" style="text-align: center;">
      <h2 style="color: black ;">Subscribe to Our Newsletter</h2>
      <p style="color: black;">
        Get exclusive travel deals, destination guides, and special offers
        delivered to your inbox!
      </p>
      <form class="newsletter-form">
        <input
          type="name"
          class="newsletter-input"
          id="nameInput"
          placeholder="Enter your Name"
        />
        <input
          type="email"
          class="newsletter-input"
          id="emailInput"
          placeholder="Enter your email address"
        />
        <button type="submit" class="newsletter-button" id="subscribe" style="padding-right:20px;">
          Subscribe
        </button>
        <p style="text-align: center;">No spam,Unsubscribe anytime.</p>
      </form>
     
    </section>

    <footer class="footer">
      <section class="footer-container">
        <section class="flex">
          <h3>Branch Offices</h3>
          <ul>
            <li>Chennai</li>
            <li>Bangalore</li>
            <li>Kochi</li>
            <li>Delhi</li>
          </ul>
        </section>

        <section class="flex">
          <h3>Follow Us</h3>
          <section class="socialmedia">
            <a href="https://www.instagram.com">
              <img
                src="../images/Insta.png" alt="insta"
                style="width: 30px; height: 30px"
              />Instagram</a
            ><br />
            <a href="https://www.facebook.com" 
              ><img
                src="../images/Face.png" alt="face"
                style="width: 30px; height: 30px"
              />Facebook</a
            ><br />
            <a href="https://www.twitter.com" 
              ><img
                src="../images/twitterss.png" alt="twitter"
                style="width: 30px; height: 30px"
              />Twitter</a
            >
          </section>
        </section>

        <section class="flex">
          <h3>Contact</h3>
          <p>üìû +91 98765 43210</p>
          <p>‚úâÔ∏è support@travelagency.com</p>
          <a href="https://maps.google.com" target="_blank" style="text-decoration: none; color: black  ;">üìç View on Map</a>
        </section>
      </section>

      <p class="footer-bottom">¬© 2026 Travel Agency. All Rights Reserved.</p>
    </footer>

    <script src="../JS/auth.js"></script>
    <script src="../JS/newsletter.js"></script>
<script>
function updateWishlistCount(){

    let wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];

    let countElement = document.getElementById("wishlistCount");

    if(countElement){
        countElement.textContent = wishlist.length;
    }
}

updateWishlistCount();
//jquery for profile
$("#profileToggle").click(function(){
$("#profileBox").fadeToggle();
});


</script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

<script>

function loadProfile(){

const currentUser =
localStorage.getItem("currentUser");

if(!currentUser) return;

const users =
JSON.parse(localStorage.getItem("users")) || [];

const user =
users.find(u=>u.email===currentUser);

if(user){
$("#profileName").text(user.name);
$("#profileEmail").text(user.email);
$("#profilePhone").text(user.phone);
}

const bookings =
JSON.parse(
localStorage.getItem("booking_"+currentUser)
)||[];

let html="";

bookings.slice(-3).forEach(b=>{
html+=`<p>‚úà ${b.package} - ‚Çπ${b.total}</p>`;
});

$("#profileBookings").html(
html || "No bookings yet"
);

}

loadProfile();
function logoutUser(){

localStorage.removeItem("currentUser");
localStorage.removeItem("userLoggedIn");

window.location.href="login.html";

}
</script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>
  
$(document).ready(function(){

$("#profileToggle").click(function(e){
e.stopPropagation();
$("#profileBox").fadeToggle();
});

$(document).click(function(){
$("#profileBox").fadeOut();
});

})

</script>
<script src="../JS/authcheck.js"></script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Booking Summary</title>

<style>

body{
margin:0;
font-family:Arial, sans-serif;
background:#f4f6fb;
}

.header{
text-align:center;
padding:20px;
background:linear-gradient(135deg,#667eea,#764ba2);
color:white;
font-size:24px;
font-weight:bold;
}

.summary-box{
max-width:650px;
margin:40px auto;
background:white;
padding:30px;
border-radius:12px;
box-shadow:0 6px 18px rgba(0,0,0,0.1);
}

.summary-box h2{
text-align:center;
color:#1565c0;
margin-bottom:25px;
}

.details{
display:grid;
grid-template-columns:1fr 1fr;
gap:15px;
margin-bottom:20px;
}

.label{
font-weight:bold;
color:#555;
}

.value{
color:#222;
}

.total-box{
background:#eef2ff;
padding:18px;
border-radius:10px;
text-align:center;
margin-top:20px;
}

.total-box span{
font-size:24px;
font-weight:bold;
color:green;
}

button{
width:100%;
padding:14px;
margin-top:25px;
background:#1565c0;
color:white;
border:none;
border-radius:8px;
font-size:16px;
cursor:pointer;
transition:0.3s;
}

button:hover{
background:#0d47a1;
transform:scale(1.02);
}

@media(max-width:600px){
.details{
grid-template-columns:1fr;
}
}   

</style>
</head>

<body>

<div class="header">
Booking Summary
</div>

<div class="summary-box">

<h2>Review Your Booking</h2>

<div id="summaryData"></div>

<button onclick="flexBooking()">
Confirm Booking ✅
</button>

</div>
<div id="bookingPopup" style="
display:none;
position:fixed;
top:50%;
left:50%;
transform:translate(-50%,-50%);
background:white;
padding:30px;
border-radius:10px;
box-shadow:0 5px 25px rgba(0,0,0,0.3);
z-index:9999;
text-align:center;">
<h3>✅ Booking Successful!</h3>
<p>Redirecting to Invoice...</p>
</div>
<script>

let booking =
JSON.parse(localStorage.getItem("currentBooking"));

const container =
document.getElementById("summaryData");

if(!booking){
container.innerHTML="<p>No Booking Found</p>";
}
else{

booking.bookingId="QV"+Date.now();
booking.total=booking.price*booking.members;

localStorage.setItem(
"currentBooking",
JSON.stringify(booking)
);

container.innerHTML=`

<div class="details">
<div class="label">Booking ID</div>
<div class="value">${booking.bookingId}</div>

<div class="label">Package</div>
<div class="value">${booking.package}</div>

<div class="label">Customer</div>
<div class="value">${booking.name}</div>

<div class="label">Members</div>
<div class="value">${booking.members}</div>



<div class="label">Departure</div>
<div class="value">${booking.departureDate}</div>

<div class="label">Arrival</div>
<div class="value">${booking.arrivalDate}</div>


<div class="label">Payment</div>
<div class="value">${booking.payment}</div>
</div>

<div class="total-box">
Total Amount<br>
<span>₹${booking.total}</span>
</div>
`;
}

function flexBooking(){

const currentUser =
localStorage.getItem("currentUser");

if(!currentUser){
alert("Login required");
return;
}

booking.email = currentUser;
booking.action="Pending";
booking.process="Booked";
let userBookings =
JSON.parse(
localStorage.getItem(
"booking_" + currentUser
)
) || [];

userBookings.push(booking);

localStorage.setItem(
"booking_" + currentUser,
JSON.stringify(userBookings)
);


let allBookings =
JSON.parse(
localStorage.getItem("bookingHistory")
) || [];

allBookings.push(booking);

localStorage.setItem(
"bookingHistory",
JSON.stringify(allBookings)
);


localStorage.setItem(
"currentBooking",
JSON.stringify(booking)
);

    
}


</script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="jquery-effects.js"></script>
</body>
</html>